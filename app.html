<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>App</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<nav>
    <!-- Tab Heading -->
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <div class="mt-3 ms-3 me-5">
            <h3>Aka: Мини Приложение</h3>
        </div>
        <a class="nav-link mt-3 ms-5 me-3" id="nav-env-tab" data-bs-toggle="tab" href="#nav-env" role="tab"
           aria-controls="nav-env" aria-selected="false"><h5 class="text-dark">Рабочая среда</h5></a>
        <a class="nav-link mt-3 ms-3 me-5" id="nav-results-tab" data-bs-toggle="tab" href="#nav-results" role="tab"
           aria-controls="nav-results" aria-selected="false"><h5 class="text-dark" onclick="loadTab()">Сохраненные
            результаты</h5></a>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <!-- First Tab Window -->
    <div class="tab-pane fade" id="nav-env" role="tabpanel" aria-labelledby="nav-env-tab">
        <div class="container-fluid">
            <div class="row mt-2">
                <div class="col border-top border-bottom border-info border-1">
                    <h4 class="text-center">Задача</h4>
                </div>

                <div class="col border-top border-bottom border-start border-secondary border-1">
                    <h4 class="text-center">Информация</h4>
                </div>
            </div>

            <div class="row row-height">
                <div class="col-md-6 auto-line-break left">
                    <div class="container">
                        <form role="form">
                            <div class="m-3">
                                <label class="form-label m-1">Выберите .set файлы для обработки</label>
                                <select class="form-select m-1" multiple id="pathsSelector" size="14"></select>
                                <button type="button" class="btn btn-info m-1" onclick="runTask()" id="buttonRunTask">
                                    Выполнить спектральный анализ
                                </button>
                                <button type="button" class="btn btn-outline-secondary m-1" id="buttonShowProgress"
                                        data-bs-toggle="modal" data-bs-target="#loadingModalWindow">
                                    Посмотреть прогресс выполнения
                                </button>
                                <!-- Modal Window -->
                                <div class="modal fade" id="loadingModalWindow" tabindex="-1" role="dialog"
                                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header" id="modalHeader">
                                                <h5 class="modal-title" id="modalLabel">Началось выполнение задачи на
                                                    кластере</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body text-center" id="modalBody">
                                                <div class="spinner-grow text-info m-3" role="status"
                                                     style="width: 6rem; height: 6rem;" id="spinner">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="m-3">
                                <label for="pngsNames" class="form-label m-1">Получились следующие значения</label>
                                <div class="input-group m-1">
                                    <input class="form-control" type="text"
                                           value=""
                                           aria-label="Disabled input example" id="pngsNames" disabled readonly
                                           aria-describedby="btnAddonPsd">
                                    <button class="btn btn-outline-secondary" type="button" onclick="showPsdImgs()"
                                            id="btnAddonPsd">Показать
                                    </button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>

                <div class="col-md-6 auto-line-break right">
                    <div class="container">
                        <div class="mb-3 m-3 text-center" id="img">
                            <img src="" id="imagePsd" class="m-1">

                        </div>
                        <div class="mb-3 m-3 text-center" id="img1">
                            <img src="" id="imagePsd1" class="m-1">
                        </div>
                    </div>
                </div>

            </div>


        </div>
    </div>


    <!-- Second Tab Window -->
    <div class="tab-pane fade" id="nav-results" role="tabpanel" aria-labelledby="nav-results-tab">
        <div class="container-fluid">
            <div class="row row-height-second mt-2">
                <div class="col auto-line-break left">
                    <div class="container-fluid">
                        <table class="table table-bordered table-hover table-sm" id="tableResults">
                        </table>
                    </div>
                </div>

                <div class="col auto-line-break right">
                    <div class="container-fluid">
                        <div class="mb-3 text-center" id="divSaved">
                            <img src="" id="imgSaved" class="m-1">
                        </div>
                        <div class="mb-3 text-center" id="divSaved1">
                            <img src="" id="imgSaved1" class="m-1">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Custom scripts -->
<script type="text/javascript" src="paths.js"></script>
<script type="text/javascript" src="app.js"></script>
</body>
</html>
